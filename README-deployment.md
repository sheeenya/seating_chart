# 座席管理システム - デプロイ手順

## 🚀 簡単デプロイ方法（推奨）

**ワンクリックでデプロイできます！**

```bash
npm run deploy
```

または、`deploy.bat` をダブルクリックしてください。

これで `deploy` フォルダに必要なファイルが自動的にコピーされます。

---

## 📋 手動デプロイ方法

### 1. 実行ファイル（exe）の作成

#### 必要なツールのインストール
```bash
npm install
```

#### 実行ファイルのビルド
```bash
npm run build
```

これで `dist` フォルダに `seating-chart-app.exe` が作成されます。

### 2. 専用PCでの配置

以下のファイルを専用PCにコピーしてください：

```
座席管理システム/
├── seating-chart-app.exe    # メインの実行ファイル
├── start-server.bat         # 起動用バッチファイル
├── public/                  # Webページのファイル
│   ├── index.html
│   ├── script.js
│   ├── style.css
│   ├── layout.png
│   └── layout.svg
└── data/                    # データファイル（自動作成されます）
    ├── layout.json
    └── occupancy.json
```

---

## 3. 使用方法

1. `start-server.bat` をダブルクリックして起動
2. ブラウザで `http://localhost:8520` にアクセス
3. 座席管理システムが使用可能になります

---

## 4. 自動起動設定（オプション）

PCの起動時に自動でサーバーを開始したい場合：

1. `start-server.bat` のショートカットを作成
2. `Win + R` → `shell:startup` でスタートアップフォルダを開く
3. ショートカットをスタートアップフォルダに配置

---

---

## 5. データ保護の仕組み

### 🛡️ 運用データの自動保護

**deployフォルダには運用データ（`data`フォルダ）が含まれません。**

これにより、サーバーPCに`deploy`フォルダを上書きコピーしても、運用中のレイアウトや着席データが失われることはありません。

### 📁 デプロイパッケージの内容

```
deploy/
├── seating-chart-app.exe    # 実行ファイル
├── start-server.bat         # 起動スクリプト
└── public/                  # Webページファイル
    ├── index.html
    ├── script.js
    ├── style.css
    ├── layout.png
    └── layout.svg
```

**含まれないもの:**
- `data/` フォルダ（運用データ）
  - `layout.json` - 座席レイアウト
  - `occupancy.json` - 着席状況

### 🚀 初回デプロイ時の動作

サーバーPCで初めてアプリケーションを起動すると、`data`フォルダが自動的に作成され、空のデータファイルが生成されます。

その後、管理者モードでレイアウトを作成してください。

### 🔄 バージョンアップ時の動作

1. 開発PCで`deploy.bat`を実行
2. `deploy`フォルダをサーバーPCにコピー（上書き可）
3. **運用データは保護される**（`data`フォルダは含まれていないため）
4. アプリケーションとWebページのみが更新される

---

## 6. 注意事項

- 毎日朝4時に座席情報が自動リセットされます
- ファイアウォールの警告が出た場合は「アクセスを許可する」を選択してください
- ポート8520が他のアプリケーションで使用されていないことを確認してください